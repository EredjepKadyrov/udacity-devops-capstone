!function(e){function t(t){for(var o,a,s=t[0],c=t[1],p=t[2],u=0,d=[];u<s.length;u++)a=s[u],i[a]&&d.push(i[a][0]),i[a]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);for(l&&l(t);d.length;)d.shift()();return r.push.apply(r,p||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],o=!0,s=1;s<n.length;s++){var c=n[s];0!==i[c]&&(o=!1)}o&&(r.splice(t--,1),e=a(a.s=n[0]))}return e}var o={},i={0:0},r=[];function a(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=o,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(n,o,function(t){return e[t]}.bind(null,o));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="assets/";var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var p=0;p<s.length;p++)t(s[p]);var l=c;r.push([268,1]),n()}({107:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=n(3),a=n(303),s=n(304),c=function(){function e(){}return e=o([i.NgModule({imports:[r.CommonModule],declarations:[a.VersionComponent,s.LoadingIndicatorComponent],exports:[a.VersionComponent,s.LoadingIndicatorComponent]})],e)}();t.MiscModule=c},109:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t,n){this.name=e,this.code=t,this.font=n}return e.prototype.toVisNodeIcon=function(e){return{face:this.font,size:80,code:this.code,color:e}},e}();t.Icon=o,t.getIconForNodeType=function(e){var t="FontAwesome";switch(e){case"Write":return new o("fa-floppy-o","",t);case"Filter":return new o("fa-filter","",t);case"Sort":return new o("fa-sort-amount-desc","",t);case"Aggregate":return new o("fa-calculator","",t);case"Join":return new o("fa-code-fork","",t);case"Union":return new o("fa-bars","",t);case"Projection":return new o("fa-chevron-circle-down","",t);case"Read":return new o("fa-database","",t);case"Alias":return new o("fa-circle-thin","",t);case"Composite":return new o("fa-cogs","",t);case"Generic":return new o("fa-question-circle","",t);default:return null}}},144:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(96),r=n(0),a=[i.MatAutocompleteModule,i.MatCheckboxModule,i.MatDatepickerModule,i.MatInputModule,i.MatRadioModule,i.MatSelectModule,i.MatSliderModule,i.MatSlideToggleModule,i.MatMenuModule,i.MatSidenavModule,i.MatToolbarModule,i.MatListModule,i.MatGridListModule,i.MatCardModule,i.MatStepperModule,i.MatTabsModule,i.MatExpansionModule,i.MatButtonModule,i.MatButtonToggleModule,i.MatChipsModule,i.MatIconModule,i.MatProgressSpinnerModule,i.MatProgressBarModule,i.MatDialogModule,i.MatTooltipModule,i.MatSnackBarModule,i.MatTableModule,i.MatSortModule,i.MatPaginatorModule],s=function(){function e(){}return e=o([r.NgModule({imports:a,exports:a})],e)}();t.MaterialModule=s},146:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){return function(e,t){this.nodes=e,this.edges=t}}();t.VisModel=o;var i=function(){return function(e,t,n,o){void 0===o&&(o=!1),this.id=e,this.label=t,this.nodes=n,this.isHighlighted=o,this.icon={face:"FontAwesome",size:80,code:"",color:o?"#ffa807":"#a4c4df"}}}();t.VisClusterNode=i},147:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var r=n(41),a=n(0),s=n(64),c=n(40),p=function(){function e(e){this.lineageStore=e}return e.prototype.getName=function(e){switch(r.typeOfExpr(e)){case"Literal":return"literal";case"Binary":return e.symbol;case"Alias":return"alias";case"UDF":return"UDF:"+e.name;case"AttrRef":var t=e;return this.lineageStore.lineageAccessors.getAttribute(t.refId).name;case"Generic":case"GenericLeaf":return e.name}},e.prototype.getText=function(e){var t=this;switch(r.typeOfExpr(e)){case"Literal":return e.value;case"Binary":var n=e,o=n.children[0],i=n.children[1],a=function(e){var n=t.getText(e);return"Binary"==r.typeOfExpr(e)?"("+n+")":n};return a(o)+" "+n.symbol+" "+a(i);case"Alias":var s=e;return this.getText(s.child)+" AS "+s.alias;case"UDF":var p=e,l=c.map(p.children,function(e){return t.getText(e)});return"UDF:"+p.name+"("+l.join(", ")+")";case"AttrRef":var u=e;return this.lineageStore.lineageAccessors.getAttribute(u.refId).name;case"GenericLeaf":return this.renderAsGenericLeafExpr(e);case"Generic":return this.renderAsGenericLeafExpr(e)+"("+e.children.map(function(e){return t.getText(e)}).join(", ")+")"}},e.prototype.renderAsGenericLeafExpr=function(e){var t=this,n=c.map(e.params,function(e,n){return n+"="+t.renderValue(e)});return c.isEmpty(n)?e.name:e.name+"["+n.join(", ")+"]"},e.prototype.renderValue=function(e){var t=this;return r.typeOfExpr(e)?this.getText(e):c.isArray(e)?"["+e.map(function(e){return t.renderValue(e)}).join(", ")+"]":c.isPlainObject(e)?"{"+c.toPairs(e).map(function(e){var n=e[0],o=e[1];return n+": "+t.renderValue(o)}).join(", ")+"}":e.toString()},e=o([a.Injectable(),i("design:paramtypes",[s.LineageStore])],e)}();t.ExpressionRenderService=p},148:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=function(){function e(){}return Object.defineProperty(e.prototype,"network",{get:function(){return this._network},enumerable:!0,configurable:!0}),e.prototype.createNetwork=function(e){return this.clearNetwork(),this._network=e(),this._network},e.prototype.ngOnDestroy=function(){this.clearNetwork()},e.prototype.clearNetwork=function(){this._network&&this._network.destroy()},e=o([i.Injectable()],e)}();t.VisNetworkService=r},169:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=n(36),s=n(206),c=function(){function e(e){this.http=e,this.datasetPromiseCache=new s.PromiseCache,this.overviewPromiseCache=new s.PromiseCache}return e.prototype.getDatasetDescriptor=function(e){var t=this;return this.datasetPromiseCache.getOrCreate(e,function(){return t.http.get("rest/dataset/"+e+"/descriptor").toPromise()})},e.prototype.getLineageOverview=function(e){var t=this;return this.overviewPromiseCache.getOrCreate(e,function(){var n=t.http.get("rest/dataset/"+e+"/lineage/overview").toPromise();return n.then(function(e){return function(n){return n.datasets.forEach(function(n){return t.overviewPromiseCache.put(n.id,e)}),n}}(n))})},e=o([r.Injectable(),i("design:paramtypes",[a.HttpClient])],e)}();t.DatasetService=c},175:function(e,t){function n(e){return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=175},200:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=function(){function e(){}return e=o([i.Component({template:n(295),styles:[n(296)]})],e)}();t.DashboardComponent=r},201:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=n(36),s=function(){function e(e){this.httpClient=e}return e.prototype.getLineageDescriptors=function(e){return this.httpClient.get("rest/dataset/descriptors",{params:{q:e.text,asAtTime:""+e.asAtTime,offset:""+e.offset,size:"20"}}).toPromise()},e=o([r.Injectable(),i("design:paramtypes",[a.HttpClient])],e)}();t.DatasetBrowserService=s},202:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=function(){function e(){}return e=o([i.Component({template:n(301),styles:[n(302)]})],e)}();t.WelcomeComponent=r},204:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=n(30),s=n(64),c=n(41),p=n(40),l=n(309),u=function(){function e(e,t,n){this.router=e,this.route=t,this.lineageStore=n,this.selectedTabIndex=l.Tab.Summary,this.hideableOperationTypes=["Projection","Filter","Sort","Aggregate"],this.subscriptions=[]}return e.prototype.isOperationTypeVisible=function(e){return this.hiddenOperationTypes.indexOf(e)<0},e.prototype.ngOnInit=function(){var e=this;this.subscriptions.unshift(this.route.data.subscribe(function(t){e.lineage=t.lineage,e.lineageStore.lineage=t.lineage,e.presentHideableOperationTypes=p.intersection(p.uniq(t.lineage.operations.map(c.typeOfOperation)),e.hideableOperationTypes)})),this.subscriptions.unshift(this.route.paramMap.subscribe(function(t){var n=t.get("operationId");e.selectedOperation=e.lineageStore.lineageAccessors.getOperation(n)})),this.subscriptions.unshift(this.route.queryParamMap.subscribe(function(t){var n;e.selectedAttrIDs=t.getAll("attr"),e.highlightedNodeIDs=(n=e.lineageStore.lineageAccessors).getOperationIdsByAnyAttributeId.apply(n,e.selectedAttrIDs),e.hiddenOperationTypes=t.getAll("hideOp")})),this.subscriptions.unshift(this.route.fragment.subscribe(function(t){e.selectedTabIndex=l.Tab.fromFragment(t).valueOr(e.selectedTabIndex)}))},e.prototype.ngOnDestroy=function(){this.subscriptions.forEach(function(e){return e.unsubscribe()})},e.prototype.getDataSourceCount=function(){return p.sumBy(this.lineage.operations,function(e){return+("Read"==c.typeOfOperation(e))})},e.prototype.onOperationSelected=function(e){e?this.router.navigate(["op",e],{relativeTo:this.route.parent,fragment:l.Tab.toFragment(l.Tab.Operation),queryParams:{},queryParamsHandling:"merge"}):this.router.navigate(["."],{relativeTo:this.route.parent,fragment:l.Tab.toFragment(l.Tab.Summary),queryParams:{},queryParamsHandling:"merge"})},e.prototype.onTabChanged=function(e){this.router.navigate([],{fragment:l.Tab.toFragment(e.index),queryParamsHandling:"preserve"})},e.prototype.onAttributeSelected=function(e){this.doSelectAttribute(e.id)},e.prototype.clearSelection=function(){this.doSelectAttribute()},e.prototype.gotoLineageOverview=function(){this.router.navigate(["overview"],{fragment:"datasource",relativeTo:this.route.parent.parent})},e.prototype.doSelectAttribute=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.router.navigate([],{queryParams:{attr:e},queryParamsHandling:"merge",preserveFragment:!0})},e.prototype.toggleOperationTypeVisibility=function(e){var t=p.without(this.hiddenOperationTypes,e),n=this.hiddenOperationTypes.length>t.length?t:this.hiddenOperationTypes.concat(e);this.router.navigate([],{queryParams:{hideOp:n},queryParamsHandling:"merge",preserveFragment:!0})},e=o([r.Component({template:n(311),styles:[n(312)],providers:[]}),i("design:paramtypes",[a.Router,a.ActivatedRoute,s.LineageStore])],e)}();t.LineageComponent=u},205:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=n(36),s=n(206),c=function(){function e(e){this.httpClient=e,this.lineagePromiseCache=new s.PromiseCache}return e.prototype.getLineage=function(e){var t=this;return this.lineagePromiseCache.getOrCreate(e,function(){return t.httpClient.get("rest/dataset/"+e+"/lineage/partial").toPromise()})},e=o([r.Injectable(),i("design:paramtypes",[a.HttpClient])],e)}();t.LineageService=c},206:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){this.cache={}}return e.prototype.put=function(e,t){return this.cache[e]=t,this},e.prototype.get=function(e){return this.cache[e]},e.prototype.getOrCreate=function(e,t){var n=this,o=this.cache[e];return o||(o=t(e).catch(function(t){throw delete n.cache[e],t}),this.cache[e]=o),o},e}();t.PromiseCache=o},208:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(41),i=n(109),r=function(){return function(e,t,n){void 0===n&&(n=!1),this.operation=e,this.label=t,this.isHighlighted=n,this.id=e.mainProps.id,this.icon=i.getIconForNodeType(o.typeOfOperation(e)).toVisNodeIcon(n?"#ff9600":"#337ab7")}}();t.VisNode=r;var a=function(){return function(e,t,n){this.from=e,this.to=t,this.title=n}}();t.VisEdge=a},209:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(40),i=function(){function e(e,t,n){this.graph=e,this.network=t,this.clusterize=n}return e.prototype.rebuildClusters=function(){this.clusters=this.clusterize(this.graph.nodes.get(),this.graph.edges.get())},e.prototype.refreshHighlightedClustersForNodes=function(){var e=this;this.rebuildClusters(),this.clusters.forEach(function(t){e.network.isCluster(t.id)&&e.network.clustering.body.nodes[t.id].setOptions(t)})},e.prototype.collapseAllClusters=function(){var e=this;this.clusters.forEach(function(t){return e.collapseCluster(t)})},e.prototype.collapseClustersExceptForNode=function(e){var t=this;this.clusters.filter(function(t){return!o.some(t.nodes,{id:e})}).forEach(function(e){return t.collapseCluster(e)})},e.prototype.collapseCluster=function(e){this.network.cluster({clusterNodeProperties:e,joinCondition:function(t){return o.some(e.nodes,{id:t.id})}})},e.prototype.expandClusterForNode=function(e){var t=this;this.clusters.filter(function(t){return o.some(t.nodes,{id:e})}).forEach(function(e){return t.expandCluster(e)})},e.prototype.expandCluster=function(e){try{this.network.openCluster(e.id)}catch(e){}},e}();t.ClusterManager=i},210:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=n(205),s=function(){function e(e){this.lineageService=e}return e.prototype.resolve=function(e){var t=e.parent.data.dataset;return this.lineageService.getLineage(t.datasetId)},e=o([r.Injectable(),i("design:paramtypes",[a.LineageService])],e)}();t.LineageByDatasetIdResolver=s},211:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=n(3);n(331),n(337);var a=n(344),s=n(419),c=n(420),p=n(423),l=n(424),u=n(425),d=n(220),f=n(170),h=n(544),g=n(547),y=function(){function e(){}return e=o([i.NgModule({imports:[r.CommonModule,a.AccordionModule,a.SharedModule,f.TreeModule.forRoot()],declarations:[c.OperationDetailsComponent,s.OperationIconComponent,l.DetailsPanelHeaderComponent,p.DetailsSectionHeaderComponent,u.ExpressionInlineComponent,d.ExpressionDialogComponent,h.AttributeListComponent,g.DataTypeViewComponent],entryComponents:[d.ExpressionDialogComponent],exports:[s.OperationIconComponent,c.OperationDetailsComponent,h.AttributeListComponent,l.DetailsPanelHeaderComponent]})],e)}();t.DetailsModule=y},220:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__param||function(e,t){return function(n,o){t(n,o,e)}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(96),s=n(0),c=function(){function e(e){this.actionMapping={mouse:{click:function(e,n){return t.onNodeClicked(n)}}},this.treeOptions={actionMapping:this.actionMapping,allowDrag:!1,allowDrop:!1},this.expr=e.expr,this.exprString=e.exprString,this.expressionRenderer=e.expressionRenderer,this.exprTree=this.buildExprTree()}var t;return t=e,e.prototype.buildExprTree=function(){var e=this,t=0,n=function(o){return{id:t++,name:e.expressionRenderer.getName(o),children:function(e){var t=e.children||e.child&&[e.child];return t&&t.map(n)}(o)}};return[n(this.expr)]},e.onNodeClicked=function(e){e.toggleExpanded()},e=t=o([s.Component({selector:"expression-dialog",styles:[n(426)],template:'\n        <code>{{ exprString }}</code>\n        <hr>\n        <tree-root #tree [nodes]="exprTree" [options]="treeOptions">\n            <ng-template #treeNodeTemplate let-node>{{ node.data.name }}</ng-template>\n        </tree-root>\n    '}),r(0,s.Inject(a.MAT_DIALOG_DATA)),i("design:paramtypes",[Object])],e)}();t.ExpressionDialogComponent=c},256:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=n(169),s=function(){function e(e){this.datasetService=e}return e.prototype.resolve=function(e){var t=e.paramMap.get("id");return this.datasetService.getDatasetDescriptor(t)},e=o([r.Injectable(),i("design:paramtypes",[a.DatasetService])],e)}();t.PersistentDatasetResolver=s},257:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=n(169),s=function(){function e(e){this.datasetService=e}return e.prototype.resolve=function(e){var t=e.parent.data.dataset;return this.datasetService.getLineageOverview(t.datasetId)},e=o([r.Injectable(),i("design:paramtypes",[a.DatasetService])],e)}();t.DatasetLineageOverviewResolver=s},258:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=n(30),s=n(11),c=n(40),p=n(64),l=n(13),u=function(){function e(e,t,n){this.route=e,this.router=t,this.lineageStore=n,this.subscriptions=[]}return e.prototype.ngOnInit=function(){var e=this;this.subscriptions.unshift(this.route.data.subscribe(function(t){return e.lineageStore.lineage=t.lineage})),this.selectedNode$=s.combineLatest(this.route.fragment,this.route.parent.data).pipe(l.map(function(e){return{type:e[0],id:e[1].dataset.datasetId}}));var t=this.lineageStore.lineage$.pipe(l.map(function(e){return new p.LineageAccessors(e)}));this.subscriptions.unshift(s.combineLatest(t,this.selectedNode$).pipe(l.filter(function(e){var t=e[0],n=e[1];return!!t.getDataset(n.id)}),l.distinctUntilChanged(function(e,t){var n=e[0],o=e[1],i=t[0],r=t[1];return n.lineage.id==i.lineage.id&&c.isEqual(o,r)})).subscribe(function(t){var n=t[0],o=t[1];return e.updateSelectedState(n,o)}))},e.prototype.ngOnDestroy=function(){this.subscriptions.forEach(function(e){return e.unsubscribe()})},e.prototype.updateSelectedState=function(e,t){var n=e.getOperation(t.id);switch(t.type){case"operation":this.selectedDataSourceDescription=void 0,this.selectedOperation=n;break;case"datasource":var o={attrs:e.getDatasetAttributes(t.id)};this.selectedDataSourceDescription={source:n.destination,schema:o,timestamp:n.timestamp},this.selectedOperation=void 0}},e.prototype.selectNode=function(e,t){switch(t){case"operation":case"datasource":this.router.navigate(["dataset",e,"lineage","overview"],{relativeTo:this.route.parent.parent.parent,fragment:t})}},e.prototype.gotoPartialLineage=function(e){this.router.navigate(["dataset",e,"lineage","partial"],{relativeTo:this.route.parent.parent.parent})},e=o([r.Component({template:n(551),styles:[n(552)],providers:[p.LineageStore]}),i("design:paramtypes",[a.ActivatedRoute,a.Router,p.LineageStore])],e)}();t.DatasetLineageOverviewComponent=u},259:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=function(){function e(){}return e=o([i.Component({template:n(557),styles:[n(558)]})],e)}();t.RetryPopupDialogComponent=r},268:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(269),n(272),n(273),n(274);var o=n(275),i=n(276);n(0).enableProdMode(),o.platformBrowserDynamic().bootstrapModule(i.AppModule)},269:function(e,t,n){n(270)(n(271))},271:function(e,t){e.exports='/**\n * Generated by Browser-Update.org\n */\n\nvar $buoop = {vs: {i: 13, f: -4, o: -4, s: 8, c: -6}, api: 4};\nfunction $buo_f() {\n    var e = document.createElement("script");\n    e.src = "//browser-update.org/update.min.js";\n    document.body.appendChild(e);\n}\ntry {\n    document.addEventListener("DOMContentLoaded", $buo_f, false)\n}\ncatch (e) {\n    window.attachEvent("onload", $buo_f)\n}\n'},276:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=n(26),a=n(30);n(277);var s=n(278),c=n(279),p=n(200),l=n(204),u=n(313),d=n(210),f=n(202),h=n(256),g=n(550),y=n(257),m=n(258),b=n(107),v=n(556),O=n(64),w=n(560),I={component:l.LineageComponent,matcher:function(e){return 0===e.length?{consumed:e}:2===e.length&&"op"===e[0].path?{consumed:e,posParams:{operationId:e[1]}}:null}},x={path:"dataset/:id",resolve:{dataset:h.PersistentDatasetResolver},children:[{path:"lineage",children:[{path:"overview",resolve:{lineage:y.DatasetLineageOverviewResolver},component:m.DatasetLineageOverviewComponent},{path:"partial",resolve:{lineage:d.LineageByDatasetIdResolver},children:[I]}]}]},S=[{path:"",pathMatch:"full",redirectTo:"/dashboard"},{path:"dashboard",component:p.DashboardComponent,children:[{path:"",pathMatch:"full",component:f.WelcomeComponent},x]},x,{path:"**",redirectTo:"/dashboard"}],R=function(){function e(){}return e=o([i.NgModule({imports:[r.BrowserModule,a.RouterModule.forRoot(S,{enableTracing:!1}),v.XHRTimeoutRectifierModule,c.DashboardModule,u.LineageModule,g.DatasetModule,w.VisModule,b.MiscModule],providers:[O.LineageStore],declarations:[s.AppComponent],bootstrap:[s.AppComponent]})],e)}();t.AppModule=R},278:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=n(30),s=function(){function e(e){var t=this;this.router=e,this.loading=!1,e.events.subscribe(function(e){t.updateLoadingStatus(e)})}return e.prototype.updateLoadingStatus=function(e){e instanceof a.NavigationStart&&(this.loading=!0),(e instanceof a.NavigationEnd||e instanceof a.NavigationCancel||e instanceof a.NavigationError)&&(this.loading=!1)},e=o([r.Component({selector:"app",template:'\n        <router-outlet></router-outlet>\n        <loading-indicator [active]="loading"></loading-indicator>\n    '}),i("design:paramtypes",[a.Router])],e)}();t.AppComponent=s},279:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0}),n(140),n(141),n(142),n(143);var i=n(144),r=n(3),a=n(0),s=n(8),c=n(30),p=n(36),l=n(200),u=n(297),d=n(201),f=n(202),h=n(107),g=n(307),y=function(){function e(){}return e=o([a.NgModule({imports:[r.CommonModule,s.ReactiveFormsModule,c.RouterModule,p.HttpClientModule,i.MaterialModule,h.MiscModule,g.ScrollEventModule],declarations:[l.DashboardComponent,u.DatasetBrowserComponent,f.WelcomeComponent],providers:[d.DatasetBrowserService],exports:[l.DashboardComponent,f.WelcomeComponent]})],e)}();t.DashboardModule=y},295:function(e,t){e.exports='\x3c!--\n  ~ Copyright 2017 ABSA Group Limited\n  ~\n  ~ Licensed under the Apache License, Version 2.0 (the "License");\n  ~ you may not use this file except in compliance with the License.\n  ~ You may obtain a copy of the License at\n  ~\n  ~     http://www.apache.org/licenses/LICENSE-2.0\n  ~\n  ~ Unless required by applicable law or agreed to in writing, software\n  ~ distributed under the License is distributed on an "AS IS" BASIS,\n  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n  ~ See the License for the specific language governing permissions and\n  ~ limitations under the License.\n  --\x3e\n\n<mat-grid-list cols="4">\n\n    \x3c!-- Left-side panel --\x3e\n    <mat-grid-tile>\n        <div class="left-block">\n            <mat-toolbar color="primary">\n                <button mat-icon-button [matMenuTriggerFor]="menu">\n                    <mat-icon><i class="fa fa-bars main-menu"></i></mat-icon>\n                </button>\n                <mat-menu #menu="matMenu">\n                    <button mat-menu-item disabled>\n                        <mat-icon><i class="fa fa-sign-in"></i></mat-icon>\n                        <span>Sign in</span>\n                    </button>\n                    <a mat-menu-item href="https://github.com/AbsaOSS/spline/wiki" target="_blank">\n                        <mat-icon><i class="fa fa-info"></i></mat-icon>\n                        <span>Spline Wiki</span>\n                    </a>\n                </mat-menu>\n                <span class="spacer"></span>\n                <mat-toolbar-row>\n                    <h1 class="spline-icon">\n                        <span>Data Lineage Tracking for Apache Spark&trade;</span>\n                    </h1>\n                </mat-toolbar-row>\n            </mat-toolbar>\n            <dataset-browser></dataset-browser>\n        </div>\n    </mat-grid-tile>\n\n    \x3c!-- Lineage View --\x3e\n    <mat-grid-tile colspan="3">\n        <router-outlet></router-outlet>\n    </mat-grid-tile>\n</mat-grid-list>\n'},296:function(e,t){e.exports=':host,mat-grid-list,mat-grid-tile,div.left-block{height:100%;width:100%}.mat-toolbar.mat-primary{background:#303a40}i.main-menu{font-size:21px}.mat-menu-item .mat-icon i.fa{position:absolute;top:12px;left:25px;font-size:21px}a[mat-menu-item]{color:inherit;text-decoration:inherit}div.left-block mat-toolbar{height:128px}div.left-block mat-toolbar h1{display:block;height:120px;margin-top:-10px;padding:50px 0 0 65px;color:#d9d2c7}div.left-block mat-toolbar h1>span{display:block;font-size:medium;color:gray;white-space:normal}div.left-block>dataset-browser{display:block;height:calc(100% - 128px)}.spline-icon{background-image:url("data:image/png;base64,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");background-repeat:no-repeat;background-position:62px 0;background-size:130px}'},297:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=n(8),s=n(201),c=n(298),p=n(11),l=n(13),u=function(){function e(e){this.dsBrowserService=e,this.searchText=new a.FormControl,this.searchRequest$=new p.BehaviorSubject(null)}return e.prototype.ngOnInit=function(){var e=this;this.searchText.valueChanges.pipe(l.debounce(function(e){return p.timer(e?300:0)})).forEach(this.newSearch.bind(this)),this.searchRequest$.pipe(l.distinct(),l.filter(p.identity)).subscribe(function(t){return e.dsBrowserService.getLineageDescriptors(t).then(function(n){var o;t==e.searchRequest$.getValue()&&(0==t.offset?e.descriptors=n:(o=e.descriptors).push.apply(o,n))})}),this.searchText.setValue("")},e.prototype.newSearch=function(e){this.searchRequest$.next(new c.SearchRequest(e))},e.prototype.onScroll=function(e){!e.isWindowEvent&&e.isReachingBottom&&this.searchRequest$.next(this.searchRequest$.getValue().withOffset(this.descriptors.length))},e=o([r.Component({selector:"dataset-browser",template:n(299),styles:[n(300)]}),i("design:paramtypes",[s.DatasetBrowserService])],e)}();t.DatasetBrowserComponent=u},298:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t,n){void 0===t&&(t=Date.now()),void 0===n&&(n=0),this.text=e,this.asAtTime=t,this.offset=n}return e.prototype.withOffset=function(t){return t==this.offset?this:new e(this.text,this.asAtTime,t)},e}();t.SearchRequest=o},299:function(e,t){e.exports='\x3c!--\n  ~ Copyright 2017 ABSA Group Limited\n  ~\n  ~ Licensed under the Apache License, Version 2.0 (the "License");\n  ~ you may not use this file except in compliance with the License.\n  ~ You may obtain a copy of the License at\n  ~\n  ~     http://www.apache.org/licenses/LICENSE-2.0\n  ~\n  ~ Unless required by applicable law or agreed to in writing, software\n  ~ distributed under the License is distributed on an "AS IS" BASIS,\n  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n  ~ See the License for the specific language governing permissions and\n  ~ limitations under the License.\n  --\x3e\n\n<div class="search input-group">\n    <span class="input-group-addon"><mat-icon>search</mat-icon></span>\n    <input [formControl]="searchText" class="form-control" placeholder="Search">\n    <button mat-icon-button class="cancel"\n            *ngIf="searchText.value.length"\n            (click)="searchText.reset(\'\')">\n        <mat-icon>cancel</mat-icon>\n    </button>\n</div>\n\n<ul class="nav nav-pills nav-stacked"\n    detect-scroll\n    [bottomOffset]="300"\n    (onScroll)="onScroll($event)">\n\n    <li role="presentation"\n        *ngFor="let d of descriptors"\n        [routerLink]="\'dataset/\'+d.datasetId+\'/lineage/overview\'"\n        fragment="datasource"\n        [routerLinkActive]="[\'active\']">\n        <a href="javascript:void(0)">\n            <b>{{d.path}}</b>\n            <br/>\n            <span class="small" title="Spark application name">{{d.appName}}</span>\n        </a>\n    </li>\n</ul>\n\n<loading-indicator [active]="descriptors == null"></loading-indicator>'},300:function(e,t){e.exports=":host{height:100%;width:100%}:host>div.search{width:100%;background-color:#fbfbfb;position:relative}:host>div.search input,:host>div.search .input-group-addon{border:none;outline:none;box-shadow:none;background:none}:host>div.search input{height:35px;font-size:larger;padding-right:36px}:host>div.search .input-group-addon{padding-right:0}:host>div.search button.cancel{position:absolute;top:-3px;right:0;z-index:10}:host>ul{height:calc(100% - 35px);overflow-y:auto;padding:0;background:whitesmoke}:host>ul>li>a{border-radius:0}:host>ul>li>a>span.small{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-size:xx-small}"},301:function(e,t){e.exports='<!DOCTYPE html>\n\x3c!--\n  ~ Copyright 2017 ABSA Group Limited\n  ~\n  ~ Licensed under the Apache License, Version 2.0 (the "License");\n  ~ you may not use this file except in compliance with the License.\n  ~ You may obtain a copy of the License at\n  ~\n  ~     http://www.apache.org/licenses/LICENSE-2.0\n  ~\n  ~ Unless required by applicable law or agreed to in writing, software\n  ~ distributed under the License is distributed on an "AS IS" BASIS,\n  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n  ~ See the License for the specific language governing permissions and\n  ~ limitations under the License.\n  --\x3e\n\n<h2>Welcome to Spline - Data Lineage Tracking for Apache Spark™</h2>\n\n<h5>\n    <span class="arrow"></span>\n    Please select a dataset from the left-hand side menu to display the data lineage for.\n</h5>\n\n<version></version>'},302:function(e,t){e.exports="h2{margin-bottom:30%;opacity:.6}h5{position:relative;opacity:.5}h5 .arrow{display:block;position:absolute;top:-3px;left:-100px;width:100%;height:20px;background-image:url('data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE3LjEuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgogICAgIHZpZXdCb3g9IjUuMiA2OTkuNyA1ODAgMTUwIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDUuMiA2OTkuNyA1ODAgMTUwIiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPGc+CiAgICA8cmVjdCBpZD0iWE1MSURfMV8iIHg9IjcuNSIgeT0iNzY3LjYiIGZpbGw9IiNBREFEQUQiIHdpZHRoPSI1NjYuOCIgaGVpZ2h0PSIxNC40Ii8+CiAgICA8ZyBpZD0iWE1MSURfNl8iPgogICAgICAgIDxwb2x5Z29uIGlkPSJYTUxJRF8zXyIgZmlsbD0iI0FEQURBRCIgcG9pbnRzPSI1MDguMiw4NDkuNiA0OTguMSw4MzkuNSA1NjIuOCw3NzQuNyA0OTguMSw3MTAuMSA1MDguMiw2OTkuOSA1ODMsNzc0LjcgICAgICAgICAiLz4KICAgIDwvZz4KPC9nPgo8L3N2Zz4K');background-repeat:no-repeat;background-position-x:right;transform:rotate(180deg);-o-transform:rotate(180deg);-ms-transform:rotate(180deg);-moz-transform:rotate(180deg);-webkit-transform:rotate(180deg);opacity:.7}"},303:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=function(){function e(){this.appVersion="0.3.9"}return e=o([i.Component({selector:"version",template:'\n        <span class="small text-muted">Spline v{{ appVersion }}</span>\n    ',styles:["span {\n        position: absolute;\n        right: 0;\n        bottom: 0;\n        margin: 2px 6px\n    }"]})],e)}();t.VersionComponent=r},304:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=function(){function e(){this.isActive=!1,this.isDelayed=!0,this.showActive=!1}return e.prototype.ngOnChanges=function(e){var t=this;e.isActive&&setTimeout(function(){return t.showActive=t.isActive})},o([r.Input("active"),i("design:type",Boolean)],e.prototype,"isActive",void 0),o([r.Input("delayed"),r.HostBinding("class.delayed"),i("design:type",Boolean)],e.prototype,"isDelayed",void 0),o([r.HostBinding("class.active"),i("design:type",Boolean)],e.prototype,"showActive",void 0),e=o([r.Component({selector:"loading-indicator",template:n(305),styles:[n(306)]})],e)}();t.LoadingIndicatorComponent=a},305:function(e,t){e.exports='\x3c!--\n  ~ Copyright 2017 ABSA Group Limited\n  ~\n  ~ Licensed under the Apache License, Version 2.0 (the "License");\n  ~ you may not use this file except in compliance with the License.\n  ~ You may obtain a copy of the License at\n  ~\n  ~     http://www.apache.org/licenses/LICENSE-2.0\n  ~\n  ~ Unless required by applicable law or agreed to in writing, software\n  ~ distributed under the License is distributed on an "AS IS" BASIS,\n  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n  ~ See the License for the specific language governing permissions and\n  ~ limitations under the License.\n  --\x3e\n\n<div class="background"></div>\n<div class="foreground">\n    <p>\n        <i class="fa fa-circle-o-notch fa-spin fa-5x"></i>\n        <span>loading, please wait</span>\n    </p>\n</div>'},306:function(e,t){e.exports=":host{pointer-events:none;position:absolute;top:0;width:100%;height:100%;opacity:0;transition:opacity .15s;transition-delay:0s}:host.active{opacity:1;z-index:999}:host.active.delayed{transition:opacity 1s;transition-delay:.8s}:host .background{opacity:.85;background:white;position:absolute;width:100%;height:100%}:host .foreground{position:absolute;width:100%;height:100%;display:flex;align-items:center}:host p{width:100%;text-align:center;color:#337ab7}:host p i{font-weight:800}:host p span{font-size:x-large;display:block;padding-top:15px}"},309:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(310);!function(e){e[e.Summary=0]="Summary",e[e.Operation=1]="Operation"}(t.Tab||(t.Tab={})),function(e){e.toFragment=function(e){return"tab-"+e},e.fromFragment=function(e){return o.maybe(/^tab-(\d+)$/.exec(e)).map(function(e){return+e[1]})}}(t.Tab||(t.Tab={}))},311:function(e,t){e.exports='\x3c!--\n  ~ Copyright 2017 ABSA Group Limited\n  ~\n  ~ Licensed under the Apache License, Version 2.0 (the "License");\n  ~ you may not use this file except in compliance with the License.\n  ~ You may obtain a copy of the License at\n  ~\n  ~     http://www.apache.org/licenses/LICENSE-2.0\n  ~\n  ~ Unless required by applicable law or agreed to in writing, software\n  ~ distributed under the License is distributed on an "AS IS" BASIS,\n  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n  ~ See the License for the specific language governing permissions and\n  ~ limitations under the License.\n  --\x3e\n\n<div>\n    <mat-grid-list cols="3">\n        <mat-grid-tile colspan="2">\n            <graph #graph\n                   [selectedOperationId]="selectedOperation?.mainProps.id"\n                   (operationSelected)="onOperationSelected($event)"\n                   [highlightedNodeIDs]="highlightedNodeIDs"\n                   [hiddenOperationTypes]="hiddenOperationTypes">\n            </graph>\n            <div class="graph-toolbar top left">\n                <button mat-button (click)="gotoLineageOverview()" title="Show a high level lineage graph">\n                    <mat-icon>keyboard_arrow_left</mat-icon>\n                    Lineage Overview\n                </button>\n            </div>\n            <div class="graph-toolbar top right">\n                <ng-template ngFor let-opType [ngForOf]="presentHideableOperationTypes">\n                    <button mat-icon-button\n                            (click)="toggleOperationTypeVisibility(opType)"\n                            title="{{isOperationTypeVisible(opType) ? \'Hide\' : \'Show\'}} \'{{opType}}\' operations">\n                        <mat-icon>{{isOperationTypeVisible(opType) ? \'visibility\' : \'visibility_off\'}}</mat-icon>\n                        {{opType}}\n                    </button>\n                </ng-template>\n            </div>\n            <div class="graph-toolbar bottom right">\n                <button *ngIf="selectedAttrIDs.length"\n                        mat-button (click)="clearSelection()" title="Collapse groups of nodes">\n                    <mat-icon title="Clear selection">clear</mat-icon>\n                    Clear selection\n                </button>\n                <button mat-button (click)="graph.collapseNodes()" title="Collapse groups of nodes">\n                    <mat-icon>fullscreen_exit</mat-icon>\n                </button>\n                <button mat-button (click)="graph.fit()" title="Fit to screen">\n                    <mat-icon>filter_none</mat-icon>\n                </button>\n            </div>\n        </mat-grid-tile>\n        <mat-grid-tile>\n            <div class="details-container">\n                <mat-tab-group [selectedIndex]="selectedTabIndex"\n                               (selectChange)="onTabChanged($event)">\n\n                    <mat-tab label="Summary">\n                        <h2>{{lineage.appName}}</h2>\n                        <pre class="small">#{{lineage.appId}}</pre>\n                        <p>Spark version: <b>{{lineage.sparkVer}}</b></p>\n                        <p>Timestamp: <b>{{lineage.timestamp | date:\'long\'}}</b></p>\n                        <p>Operations: <b>{{lineage.operations.length}}</b></p>\n                        <p>Input data sources: <b>{{getDataSourceCount()}}</b></p>\n                    </mat-tab>\n\n                    <mat-tab *ngIf="selectedOperation">\n                        <ng-template mat-tab-label>\n                            <operation-icon [operation]="selectedOperation" class="spl-tab-node"></operation-icon>\n                            {{selectedOperation.mainProps.name}}\n                        </ng-template>\n\n                        <operation-details\n                                [operation]="selectedOperation"\n                                [selectedAttrIDs]="selectedAttrIDs"\n                                (attributeSelected)="onAttributeSelected($event)">\n                        </operation-details>\n                    </mat-tab>\n                </mat-tab-group>\n            </div>\n        </mat-grid-tile>\n    </mat-grid-list>\n</div>\n\n<version></version>'},312:function(e,t){e.exports=":host{height:100%;width:100%}:host>div{height:100%}:host>div mat-grid-list{height:100%}:host>div mat-grid-tile{height:100%}:host>div graph{display:block;height:100%;width:100%}:host>div .graph-toolbar{background:white;opacity:.8;border-radius:100px;box-shadow:0 0 100px 50px white;position:absolute}:host>div .graph-toolbar.top{top:20px}:host>div .graph-toolbar.left{left:25px}:host>div .graph-toolbar.right{right:25px}:host>div .graph-toolbar.bottom{bottom:20px}:host>div .graph-toolbar .mat-button{min-width:0}:host>div .graph-toolbar .mat-icon-button{width:auto;padding:0 7px}:host>div .graph-toolbar .mat-icon-button .mat-icon{font-size:1.4em}:host>div .details-container{height:100%;width:100%;background:whitesmoke}:host>div .details-container mat-tab-group{height:100%}:host>div .details-container mat-tab-group operation-node-details{width:100%}:host>div .details-container mat-tab-group a.btn.__view-executions{float:right}:host>div .details-container mat-tab-group/deep/.mat-tab-header .mat-tab-label i{font-size:x-large;position:absolute;left:6px;top:10px}:host>div .details-container mat-tab-group/deep/.mat-tab-header .mat-tab-label i.spl-tab-attr{color:lightseagreen}:host>div .details-container mat-tab-group/deep/.mat-tab-body-wrapper{height:100%}:host>div .details-container mat-tab-group/deep/.mat-tab-body-wrapper .mat-tab-body-content{height:100%}"},313:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=n(204),a=n(205),s=n(3),c=n(36),p=n(30);n(143);var l=n(27),u=n(144);n(141),n(142),n(140);var d=n(314),f=n(210),h=n(211),g=n(107),y=n(147),m=function(){function e(){}return e=o([i.NgModule({imports:[l.NoopAnimationsModule,s.CommonModule,p.RouterModule,u.MaterialModule,c.HttpClientModule,h.DetailsModule,g.MiscModule],declarations:[r.LineageComponent,d.GraphComponent],providers:[a.LineageService,f.LineageByDatasetIdResolver,y.ExpressionRenderService],exports:[r.LineageComponent,d.GraphComponent]})],e)}();t.LineageModule=m},314:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);n(207);var a=n(329),s=n(330),c=n(145),p=n(40),l=n(209),u=n(208),d=n(64),f=n(146),h=n(11),g=n(147),y=n(13),m=n(148),b=function(){function e(e,t,n,o,i){var a=this;this.container=e,this.expressionRenderService=t,this.lineageStore=n,this.visNetworkService=o,this.zone=i,this.hiddenOperationTypes$=new h.Subject,this.highlightedNodeIDs$=new h.Subject,this.selectedOperationId$=new h.BehaviorSubject(void 0),this.operationSelected=new r.EventEmitter;var s=this.hiddenOperationTypes$.pipe(y.distinctUntilChanged(p.isEqual)),c=this.highlightedNodeIDs$.pipe(y.distinctUntilChanged(p.isEqual)),l=new h.Subject;this.subscriptions=[h.combineLatest([this.lineageStore.lineage$,s]).subscribe(function(e){var t=e[0],n=e[1];a.rebuildGraph(t,n),l.next()}),h.combineLatest([c,l]).subscribe(function(e){var t=e[0];a.refreshHighlightedNodes(t)}),h.combineLatest([this.selectedOperationId$,l]).subscribe(function(e){var t=e[0];a.refreshSelectedNode(t)})]}return Object.defineProperty(e.prototype,"hiddenOperationTypes",{set:function(e){this.hiddenOperationTypes$.next(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"highlightedNodeIDs",{set:function(e){this.highlightedNodeIDs$.next(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedOperationId",{set:function(e){this.selectedOperationId$.next(e)},enumerable:!0,configurable:!0}),e.prototype.ngOnDestroy=function(){this.subscriptions.forEach(function(e){return e.unsubscribe()})},e.prototype.rebuildGraph=function(e,t){var n=this;this.zone.runOutsideAngular(function(){n.graph=s.lineageToGraph(e,n.expressionRenderService,n.selectedOperationId$.value,t);var o=n.visNetworkService.createNetwork(function(){return new c.Network(n.container.nativeElement,n.graph,a.visOptions)});n.clusterManager=new l.ClusterManager(n.graph,o,function(e,t){var n=[];return e.forEach(function(e){var o=t.filter(function(t){return t.from==e.id}).map(function(e){return e.to});if(1==t.filter(function(t){return t.to==e.id}).map(function(e){return e.from}).length&&1==o.length){var i=n.find(function(e){return p.some(e,function(e){return e.id==o[0]})});i?i.push(e):n.push([e])}}),n.map(function(e,t){var n="cluster:"+t,o="("+e.length+")",i=p.some(e,function(e){return e.isHighlighted});return new f.VisClusterNode(n,o,e,i)})}),n.clusterManager.rebuildClusters(),o.on("click",function(e){var t=e.nodes[0];o.isCluster(t)?(o.openCluster(t),n.refreshSelectedNode(n.selectedOperationId$.value)):n.zone.run(function(){return n.operationSelected.emit(t)})});var i=n.container.nativeElement.getElementsByTagName("canvas")[0];o.on("hoverNode",function(){return i.style.cursor="pointer"}),o.on("blurNode",function(){return i.style.cursor="default"}),o.on("beforeDrawing",function(e){o.getSelectedNodes().forEach(function(t){var n=o.getPositions(t);e.fillStyle="#e0e0e0",e.circle(n[t].x,n[t].y,65),e.fill()})}),n.clusterManager.collapseAllClusters()})},e.prototype.fit=function(){var e=this;this.zone.runOutsideAngular(function(){e.visNetworkService.network.fit()})},e.prototype.collapseNodes=function(){var e=this;this.zone.runOutsideAngular(function(){e.clusterManager.collapseClustersExceptForNode(e.selectedOperationId$.value)})},e.prototype.refreshSelectedNode=function(e){var t=this;this.zone.runOutsideAngular(function(){var n=t.visNetworkService.network;n.unselectAll(),e&&(n.selectNodes([e]),t.clusterManager.expandClusterForNode(e))})},e.prototype.refreshHighlightedNodes=function(e){var t=this;this.zone.runOutsideAngular(function(){var n=t.graph.nodes,o=n.get().map(function(t){var n=p.includes(e,t.id);return t.isHighlighted!=n?new u.VisNode(t.operation,t.label,n):t});n.update(o),t.clusterManager.refreshHighlightedClustersForNodes()})},o([r.Input(),i("design:type",Array),i("design:paramtypes",[Array])],e.prototype,"hiddenOperationTypes",null),o([r.Input(),i("design:type",Array),i("design:paramtypes",[Array])],e.prototype,"highlightedNodeIDs",null),o([r.Input(),i("design:type",String),i("design:paramtypes",[String])],e.prototype,"selectedOperationId",null),o([r.Output(),i("design:type",Object)],e.prototype,"operationSelected",void 0),e=o([r.Component({selector:"graph",template:"",providers:[m.VisNetworkService]}),i("design:paramtypes",[r.ElementRef,g.ExpressionRenderService,d.LineageStore,m.VisNetworkService,r.NgZone])],e)}();t.GraphComponent=b},329:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.visOptions={autoResize:!0,interaction:{hover:!0,selectConnectedEdges:!1,hoverConnectedEdges:!1},layout:{hierarchical:{enabled:!0,sortMethod:"directed",direction:"UD",parentCentralization:!0,nodeSpacing:200,levelSeparation:200}},physics:{enabled:!0,hierarchicalRepulsion:{nodeDistance:250,springLength:150,springConstant:10,damping:1}},edges:{color:{color:"#E0E0E0",hover:"#E0E0E0",highlight:"E0E0E0"},shadow:!1,width:10,arrows:"to",font:{color:"#343434",background:"#ffffff",strokeWidth:0}},nodes:{shape:"icon",shadow:!1,labelHighlightBold:!1,font:{color:"#343434",size:20}}}},330:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(208),i=n(145),r=n(40),a=n(41),s=n(146);function c(e,t){var n=e.mainProps.name+"\n";switch(a.typeOfOperation(e)){case"Aggregate":var o=e.aggregations;n+=Object.keys(o).join(",");break;case"Join":var i=e.condition;i&&(n+=t.getText(i));break;case"Filter":var s=e.condition;n+=t.getText(s);break;case"Projection":break;case"Sort":var c=e.orders;n+=c[0].direction+" "+t.getText(c[0]);break;case"Read":n+=function(e){return e.replace(/^.*[\\\/]/,"")}(e.sources[0].path);break;case"Write":n+=e.path;break;default:n=e.mainProps.name}return r.truncate(n,{length:50})}t.lineageToGraph=function(e,t,n,p){void 0===p&&(p=[]);var l=r.groupBy(e.operations,function(e){var t=a.typeOfOperation(e);return e.mainProps.id==n||"Alias"!=t&&p.indexOf(t)<0}),u=l.true,d=l.false,f=r.map(d,"mainProps.id"),h=u.map(function(e){return new o.VisNode(e,c(e,t))}),g=function(e,t){var n={},i={};e.operations.forEach(function(e){var t=e.mainProps.id;i[e.mainProps.output]=t,e.mainProps.inputs.forEach(function(e){var o=n[e]||[];n[e]=o,o.push(t)})});var a=r.mapValues(r.groupBy(e.attributes,"id"),r.first),s=r.mapValues(r.groupBy(e.datasets,"id"),r.first),c=r.intersection(r.keys(n),r.keys(i)),p=r.flatMap(c,function(e){var t=i[e];return n[e].filter(function(e){return t!=e}).map(function(n){return{from:t,to:n,dsId:e}})});return t.forEach(function(e){var t=r.remove(p,function(t){return t.to==e});if(1!=t.length)throw Error("Unexpected number of input edges ("+t.length+") for operation ("+e+") that should be unary");var n=t[0].from;p.filter(function(t){return t.from==e}).forEach(function(e){return e.from=n})}),p.map(function(e){var t="["+s[e.dsId].schema.attrs.map(function(e){return a[e].name}).join(", ")+"]";return new o.VisEdge(e.from,e.to,t)})}(e,f);return new s.VisModel(new i.DataSet(h),new i.DataSet(g))},t.getLabel=c},41:function(e,t,n){"use strict";function o(e,t){var n=function(e,t,n){if(e){for(var o=e.length,i=0;i<n;i++)o=e.lastIndexOf(t,o-1);return e.substring(o+1)||void 0}return}(e._typeHint,".",2),o=n&&n.split(".");if(o&&2==o.length){var i=o[0],r=o[1];return i==t&&r||void 0}}Object.defineProperty(t,"__esModule",{value:!0}),t.typeOfOperation=function(e){return o(e,"op")},t.typeOfExpr=function(e){return o(e,"expr")},t.typeOfDataType=function(e){return o(e,"dt")}},419:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=n(41),s=n(109),c=function(){function e(){}return Object.defineProperty(e.prototype,"operation",{set:function(e){this.faIconCode=e&&s.getIconForNodeType(a.typeOfOperation(e)).name},enumerable:!0,configurable:!0}),o([r.Input(),i("design:type",Object),i("design:paramtypes",[Object])],e.prototype,"operation",null),e=o([r.Component({selector:"operation-icon",template:"<i class='fa {{faIconCode}}'></i>",styles:["i { color: steelblue; }"]})],e)}();t.OperationIconComponent=c},420:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=n(64),s=n(41),c=n(109),p=n(40),l=function(){function e(e){this.lineageStore=e,this.attributeSelected=new r.EventEmitter}return e.prototype.keys=function(e){return Object.keys(e)},e.prototype.ngOnChanges=function(e){this.operationType=s.typeOfOperation(this.operation)},e.prototype.getOperationIcon=function(){return c.getIconForNodeType(this.operationType).name},e.prototype.getExprType=function(e){return s.typeOfExpr(e)},e.prototype.getAttribute=function(e){return this.lineageStore.lineageAccessors.getAttribute(e)},e.prototype.getDatasetAttributes=function(e){return this.lineageStore.lineageAccessors.getDatasetAttributes(e)},e.prototype.getDroppedAttributesIfAny=function(){var e=this,t=function(t){return e.lineageStore.lineageAccessors.getDataset(t).schema.attrs},n=p.flatMap(this.operation.mainProps.inputs,t),o=t(this.operation.mainProps.output),i=p(n).difference(o).map(function(t){return e.lineageStore.lineageAccessors.getAttribute(t)}).sortBy(function(e){return e.name}).value();return i.length?i:void 0},e.prototype.selectAttribute=function(e){this.attributeSelected.emit(this.lineageStore.lineageAccessors.getAttribute(e))},o([r.Input(),i("design:type",Object)],e.prototype,"operation",void 0),o([r.Input(),i("design:type",Array)],e.prototype,"selectedAttrIDs",void 0),o([r.Output(),i("design:type",Object)],e.prototype,"attributeSelected",void 0),e=o([r.Component({selector:"operation-details",template:n(421),styles:[n(422)]}),i("design:paramtypes",[a.LineageStore])],e)}();t.OperationDetailsComponent=l},421:function(e,t){e.exports='\x3c!--\n  ~ Copyright 2017 ABSA Group Limited\n  ~\n  ~ Licensed under the Apache License, Version 2.0 (the "License");\n  ~ you may not use this file except in compliance with the License.\n  ~ You may obtain a copy of the License at\n  ~\n  ~     http://www.apache.org/licenses/LICENSE-2.0\n  ~\n  ~ Unless required by applicable law or agreed to in writing, software\n  ~ distributed under the License is distributed on an "AS IS" BASIS,\n  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n  ~ See the License for the specific language governing permissions and\n  ~ limitations under the License.\n  --\x3e\n\n<div>\n    <details-panel-header\n            [caption]="operation.mainProps.name"\n            [faIcon]="getOperationIcon()"\n            iconColor="steelblue"></details-panel-header>\n\n    <div class="body">\n        <p-accordion [multiple]="true">\n\n            \x3c!-- Section: Read --\x3e\n            <section *ngIf="operationType == \'Read\'">\n                <p-accordionTab [selected]="true">\n                    <p-header>\n                        <details-section-header\n                                caption="Read {{ operation.sourceType }}"\n                                faIcon="fa-table"\n                                iconColor="black"></details-section-header>\n                    </p-header>\n                    <ul>\n                        <li *ngFor="let source of operation.sources"\n                            title="{{ source.path }}">{{ source.path }}\n                        </li>\n                    </ul>\n                </p-accordionTab>\n            </section>\n\n            \x3c!-- Section: Write --\x3e\n            <section *ngIf="operationType == \'Write\'">\n                <p-accordionTab [selected]="true">\n                    <p-header>\n                        <details-section-header\n                                caption="Write to {{ operation.destinationType }}"\n                                faIcon="fa-floppy-o"\n                                iconColor="steelblue"></details-section-header>\n                    </p-header>\n                    <ul>\n                        <li title="{{ operation.path }}">{{ operation.path }}</li>\n                    </ul>\n                </p-accordionTab>\n            </section>\n\n            \x3c!-- Section: Filter --\x3e\n            <section *ngIf="operationType == \'Filter\'">\n                <p-accordionTab [selected]="true">\n                    <p-header>\n                        <details-section-header\n                                caption="Filter by"\n                                faIcon="fa-filter"\n                                iconColor="steelblue"></details-section-header>\n                    </p-header>\n                    <ul>\n                        <li>\n                            <expression-inline [expr]="operation.condition"></expression-inline>\n                        </li>\n                    </ul>\n                </p-accordionTab>\n            </section>\n\n            \x3c!-- Section: Sort --\x3e\n            <section *ngIf="operationType == \'Sort\'">\n                <p-accordionTab [selected]="true">\n                    <p-header>\n                        <details-section-header\n                                caption="Sort by"\n                                faIcon="fa-sort-amount-desc"\n                                iconColor="steelblue"></details-section-header>\n                    </p-header>\n                    <ul class="sort-orders">\n                        <li *ngFor="let order of operation.orders">\n                            <i class="fa {{order.direction == \'ASC\' ? \'fa-long-arrow-down\' : \'fa-long-arrow-up\'}}"\n                               title="{{order.direction}}"></i>\n                            <expression-inline [expr]="order.expression"></expression-inline>\n                        </li>\n                    </ul>\n                </p-accordionTab>\n            </section>\n\n            \x3c!-- Section: Aggregate --\x3e\n            <section *ngIf="operationType == \'Aggregate\'">\n                <p-accordionTab [selected]="true">\n                    <p-header>\n                        <details-section-header\n                                caption="Group by"\n                                faIcon="fa-object-group"\n                                iconColor="steelblue"></details-section-header>\n                    </p-header>\n                    <ul>\n                        <li *ngFor="let grExpr of operation.groupings">\n                            <expression-inline [expr]="grExpr"></expression-inline>\n                        </li>\n                    </ul>\n                </p-accordionTab>\n                <p-accordionTab [selected]="true">\n                    <p-header>\n                        <details-section-header\n                                caption="Aggregations"\n                                faIcon="fa-calculator"\n                                iconColor="steelblue"></details-section-header>\n                    </p-header>\n                    <ul>\n                        <ng-template ngFor let-name [ngForOf]="keys(operation.aggregations)">\n                            <li>\n                                <expression-inline [expr]="operation.aggregations[name]"></expression-inline>\n                            </li>\n                        </ng-template>\n                    </ul>\n                </p-accordionTab>\n            </section>\n\n            \x3c!-- Section: Projection --\x3e\n            <section *ngIf="operationType == \'Projection\'">\n                <p-accordionTab *ngIf="getDroppedAttributesIfAny(); let droppedAttrs" [selected]="true">\n                    <p-header>\n                        <details-section-header\n                                caption="Dropped Attributes"\n                                faIcon="fa-columns"\n                                iconColor="steelblue"></details-section-header>\n                    </p-header>\n                    <ul>\n                        <li *ngFor="let attr of droppedAttrs">\n                            <span class="expr-attr-removal"\n                                  title="Removed attribute \'{{ attr.name }}\'">\n                                <i>a</i>\n                                <span>{{ attr.name }}</span>\n                            </span>\n                        </li>\n                    </ul>\n                </p-accordionTab>\n\n                <p-accordionTab *ngIf="operation.transformations?.length" [selected]="true">\n                    <p-header>\n                        <details-section-header\n                                caption="Transformations"\n                                faIcon="fa-cogs"\n                                iconColor="steelblue"></details-section-header>\n                    </p-header>\n                    <ul>\n                        <li *ngFor="let expr of operation.transformations">\n                            <span class="expr-lambda">\n                                <i title="Expression">λ=</i>\n                                <expression-inline [expr]="expr"></expression-inline>\n                            </span>\n                        </li>\n                    </ul>\n                </p-accordionTab>\n            </section>\n\n            \x3c!-- Section: Join --\x3e\n            <section *ngIf="operationType == \'Join\'">\n                <p-accordionTab [selected]="true">\n                    <p-header>\n                        <details-section-header\n                                caption="{{ operation.joinType }} join {{ operation.condition ? \'on\' : \'\' }}"\n                                faIcon="fa-code-fork"\n                                iconColor="steelblue"></details-section-header>\n                    </p-header>\n                    <ul *ngIf="operation.condition">\n                        <li title="Expression">\n                            <expression-inline [expr]="operation.condition"></expression-inline>\n                        </li>\n                    </ul>\n                </p-accordionTab>\n            </section>\n\n            \x3c!-- Section: Union --\x3e\n            <section *ngIf="operationType == \'Union\'">\n            </section>\n\n            \x3c!-- Section: Generic --\x3e\n            <section *ngIf="operationType == \'Generic\'">\n                <p-accordionTab [selected]="true">\n                    <p-header>\n                        <details-section-header\n                                caption="Operation source code"\n                                faIcon="fa-code"\n                                iconColor="steelblue"></details-section-header>\n                    </p-header>\n                    <code class="small" title="Internal operation representation">{{operation.rawString}}</code>\n                </p-accordionTab>\n            </section>\n\n            \x3c!-- Section: Input --\x3e\n            <ng-container *ngIf="operationType != \'Read\'">\n                <section *ngFor="let input of operation.mainProps.inputs">\n                    <p-accordionTab [selected]="true">\n                        <p-header>\n                            <details-section-header\n                                    caption="Input"\n                                    faIcon="fa-arrow-circle-right"\n                                    iconColor="green"></details-section-header>\n                        </p-header>\n                        <attribute-list\n                                [attrs]="getDatasetAttributes(input)"\n                                (attrClicked)="selectAttribute($event)"\n                                [selectedAttrIDs]="selectedAttrIDs">\n                        </attribute-list>\n                    </p-accordionTab>\n                </section>\n            </ng-container>\n\n            \x3c!-- Section: Output --\x3e\n            <ng-container *ngIf="operationType != \'Write\'">\n                <section *ngIf="operation.mainProps.output">\n                    <p-accordionTab [selected]="true">\n                        <p-header>\n                            <details-section-header\n                                    caption="Output"\n                                    faIcon="fa-arrow-circle-left"\n                                    iconColor="firebrick"></details-section-header>\n                        </p-header>\n                        <attribute-list\n                                [attrs]="getDatasetAttributes(operation.mainProps.output)"\n                                (attrClicked)="selectAttribute($event)"\n                                [selectedAttrIDs]="selectedAttrIDs">\n                        </attribute-list>\n                    </p-accordionTab>\n                </section>\n            </ng-container>\n\n        </p-accordion>\n    </div>\n</div>'},422:function(e,t){e.exports=":host>div{position:relative;height:100%}.body{height:calc(100% - 48px)}ul{padding:5px 0 0 0}ul.sort-orders i{color:#337ab7}ul>li{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding:2px 0;font-size:small}ul i{width:17px;display:inline-block;font-weight:800;font-style:normal;cursor:default}ul .expr-lambda>i{font-family:serif;color:lightseagreen}ul .expr-attr-removal>i{color:#337ab7}ul .expr-attr-removal>span{color:silver;text-decoration:line-through}section{border-left:1px solid whitesmoke}:host/deep/.ui-accordion .ui-accordion-header{height:27px;border-radius:0;border-color:whitesmoke}:host/deep/.ui-accordion .ui-accordion-header a{padding-top:.33em;text-decoration:none;outline:none}:host/deep/.ui-accordion .ui-accordion-header.ui-state-active{border-left:none;border-bottom:none}:host/deep/.ui-accordion .ui-accordion-content{padding:0 .3em 1em 1em}"},423:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=function(){function e(){}return o([r.Input(),i("design:type",String)],e.prototype,"caption",void 0),o([r.Input(),i("design:type",String)],e.prototype,"faIcon",void 0),o([r.Input(),i("design:type",String)],e.prototype,"iconColor",void 0),e=o([r.Component({selector:"details-section-header",template:'\n        <div>\n            <i class="fa" [ngClass]="faIcon" [ngStyle]="{color: iconColor}"></i>\n            {{caption}}\n        </div>\n    ',styles:["\n        :host {\n            display: inline-block;\n        }\n        i {\n            padding: 0 2px 0 5px;            \n        }\n    "]})],e)}();t.DetailsSectionHeaderComponent=a},424:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=function(){function e(){}return o([r.Input(),i("design:type",String)],e.prototype,"caption",void 0),o([r.Input(),i("design:type",String)],e.prototype,"faIcon",void 0),o([r.Input(),i("design:type",String)],e.prototype,"iconColor",void 0),e=o([r.Component({selector:"details-panel-header",template:'\n        <i class="fa fa-2x"\n           [ngClass]="faIcon"\n           [ngStyle]="{color: iconColor}"></i>\n        <b>{{caption}}</b>\n    ',styles:["\n        :host {\n            display: block;\n            height: 48px;\n        }\n        i {\n            position: absolute; \n            top: 11px; \n            left: 12px; \n            text-shadow: 1px 1px white;\n        }\n        b {\n            text-align: center; \n            display: block; \n            padding-top: 15px;\n        }\n    "]})],e)}();t.DetailsPanelHeaderComponent=a},425:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=n(96),s=n(220),c=n(147),p=function(){function e(e,t){this.dialog=e,this.expressionRenderer=t}return e.prototype.ngOnChanges=function(){this.exprString=this.expressionRenderer.getText(this.expr)},e.prototype.openExprViewDialog=function(e){e.preventDefault(),this.dialog.open(s.ExpressionDialogComponent,{data:{expr:this.expr,exprString:this.exprString,expressionRenderer:this.expressionRenderer}})},o([r.Input(),i("design:type",Object)],e.prototype,"expr",void 0),e=o([r.Component({selector:"expression-inline",template:'\n        <a href="" (click)="openExprViewDialog($event)">\n            <code title="{{ exprString }}">{{ exprString }}</code>\n        </a>\n    ',styles:["\n        code {\n            padding: 0;\n        }\n    "],providers:[c.ExpressionRenderService]}),i("design:paramtypes",[a.MatDialog,c.ExpressionRenderService])],e)}();t.ExpressionInlineComponent=p},426:function(e,t){e.exports=':host/deep/.node-wrapper{position:relative;display:inline-block}:host/deep/.node-wrapper ::before{content:"";position:absolute;height:13px;width:7px}:host/deep/.tree-children{padding-left:5px}:host/deep/.tree-node-children{padding-left:15px}:host/deep/.tree-node{padding-left:10px;border-left:1px dotted #23527c}:host/deep/.node-content-wrapper{padding-top:10px;padding-left:20px;display:inline-block;box-shadow:none;opacity:1 !important;cursor:pointer}:host/deep/.node-content-wrapper ::before{left:-10px;border-bottom:1px dotted #23527c;width:10px}:host/deep/.toggle-children-wrapper.toggle-children-wrapper-collapsed::after{position:absolute;top:15px;display:inline-block;font:normal normal normal 15px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;content:"\\f0fe"}:host/deep/.toggle-children-wrapper.toggle-children-wrapper-expanded::after{position:absolute;top:15px;display:inline-block;font:normal normal normal 15px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;content:"\\f146"}:host/deep/tree-viewport{overflow:hidden}'},544:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=n(41),s=n(170),c=n(40),p=n(64),l=function(){function e(e){var t=this;this.lineageStore=e,this.expandRoot=!1,this.attrClicked=new r.EventEmitter,this.actionMapping={mouse:{click:function(e,n,o){return t.onNodeClicked(n)}}},this.treeOptions={actionMapping:this.actionMapping,allowDrag:!1,allowDrop:!1}}return Object.defineProperty(e.prototype,"attrs",{set:function(e){var t=this;this.attrTree=e.map(function(e){return t.buildAttrTree(e)})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedAttrIDs",{set:function(e){this.selectedIds=e,this.highlightSelected()},enumerable:!0,configurable:!0}),e.prototype.onTreeInit=function(){this.highlightSelected()},e.prototype.onNodeClicked=function(e){this.attrClicked.emit(e.data.attributeId)},e.prototype.buildAttrTree=function(e){var t=e.id,n=c.bind(this.lineageStore.lineageAccessors.getDataType,this.lineageStore.lineageAccessors);function o(e){var t=a.typeOfDataType(e);return"Simple"==t?void 0:"Struct"==t?function(e){return e.fields.map(function(e){return i(n(e.dataTypeId),e.name,!1)})}(e):o(n(e.elementDataTypeId))}function i(e,n,i){return{attributeId:t,name:n,type:e,children:o(e),isExpanded:i}}return i(n(e.dataTypeId),e.name,this.expandRoot)},e.prototype.highlightSelected=function(){var e=this;this.treeComponent&&this.treeComponent.treeModel.roots&&this.treeComponent.treeModel.roots.forEach(function(t){t.setIsActive(e.isSelected(t,e.selectedIds),!0)})},e.prototype.isSelected=function(e,t){var n=e.data.attributeId;return null!=n&&c.includes(t,n)},o([r.Input(),i("design:type",Array),i("design:paramtypes",[Array])],e.prototype,"attrs",null),o([r.Input(),i("design:type",Array),i("design:paramtypes",[Array])],e.prototype,"selectedAttrIDs",null),o([r.Input(),i("design:type",Boolean)],e.prototype,"expandRoot",void 0),o([r.Output(),i("design:type",Object)],e.prototype,"attrClicked",void 0),o([r.ViewChild("tree"),i("design:type",s.TreeComponent)],e.prototype,"treeComponent",void 0),e=o([r.Component({selector:"attribute-list",template:n(545),styles:[n(546)]}),i("design:paramtypes",[p.LineageStore])],e)}();t.AttributeListComponent=l},545:function(e,t){e.exports='\x3c!--\n  ~ Copyright 2017 ABSA Group Limited\n  ~\n  ~ Licensed under the Apache License, Version 2.0 (the "License");\n  ~ you may not use this file except in compliance with the License.\n  ~ You may obtain a copy of the License at\n  ~\n  ~     http://www.apache.org/licenses/LICENSE-2.0\n  ~\n  ~ Unless required by applicable law or agreed to in writing, software\n  ~ distributed under the License is distributed on an "AS IS" BASIS,\n  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n  ~ See the License for the specific language governing permissions and\n  ~ limitations under the License.\n  --\x3e\n\n<tree-root #tree [nodes]="attrTree" [options]="treeOptions" (initialized)="onTreeInit()">\n    <ng-template #treeNodeTemplate let-node>\n        <div>\n            <span class="fld-name">{{ node.data.name }}</span>\n            <div class="fld-type">\n                <span>:</span>\n                <data-type-view [node]="node">\n                </data-type-view>\n            </div>\n        </div>\n    </ng-template>\n</tree-root>\n'},546:function(e,t){e.exports=".fld-type{position:absolute;top:3px;right:0;width:70px}data-type-view{width:53px;display:inline-block}:host/deep/.node-wrapper{position:relative}:host/deep/.tree-children{padding-left:20px}:host/deep/.tree-node:hover{background-color:#f7f7f7}:host/deep/.tree-node.tree-node-active{color:#fff;background:#337ab7}:host/deep/.tree-node.tree-node-active:hover,:host/deep/.tree-node.tree-node-active .tree-node:hover{background-color:#3072ab}:host/deep/.node-content-wrapper{background:transparent;box-shadow:none;opacity:1 !important;padding:5px 0 3px 0;cursor:pointer}:host/deep/tree-node-expander{display:none}:host/deep/tree-viewport{overflow:hidden}"},547:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=n(170),s=n(41),c=n(64),p=function(){function e(e){this.lineageAccessors=e.lineageAccessors}var t;return t=e,e.prototype.typeOfDataType=function(e){return s.typeOfDataType(e)},e.prototype.getArrayElementType=function(e){return this.lineageAccessors.getDataType(e.elementDataTypeId)},e.prototype.toggleExpanded=function(e){this.node.toggleExpanded(),t.suppressBrowserNativeBehaviour(e)},e.suppressBrowserNativeBehaviour=function(e){e.stopPropagation(),e.srcElement.blur()},o([r.Input(),i("design:type",a.TreeNode)],e.prototype,"node",void 0),e=t=o([r.Component({selector:"data-type-view",template:n(548),styles:[n(549)]}),i("design:paramtypes",[c.LineageStore])],e)}();t.DataTypeViewComponent=p},548:function(e,t){e.exports='\x3c!--\n  ~ Copyright 2017 ABSA Group Limited\n  ~\n  ~ Licensed under the Apache License, Version 2.0 (the "License");\n  ~ you may not use this file except in compliance with the License.\n  ~ You may obtain a copy of the License at\n  ~\n  ~     http://www.apache.org/licenses/LICENSE-2.0\n  ~\n  ~ Unless required by applicable law or agreed to in writing, software\n  ~ distributed under the License is distributed on an "AS IS" BASIS,\n  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n  ~ See the License for the specific language governing permissions and\n  ~ limitations under the License.\n  --\x3e\n\n<div title="{{ node.data.type.nullable ? \'Optional\' : \'Required\' }}">\n    <ng-container [ngTemplateOutlet]="dtView"\n                  [ngTemplateOutletContext]="{dt:node.data.type}"></ng-container>\n</div>\n\n<ng-template #dtView let-dt="dt">\n    <ng-container [ngSwitch]="typeOfDataType(dt)">\n        <div *ngSwitchCase="\'Struct\'" class="struct-type">\n            <button class="btn btn-default btn-xs"\n                    [ngClass]="{\'active\':node.isExpanded}"\n                    (click)="toggleExpanded($event)">\n                &#123; ... &#125;\n            </button>\n        </div>\n        <div *ngSwitchCase="\'Simple\'" class="simple-type">\n            {{ dt.name }}\n        </div>\n        <div *ngSwitchCase="\'Array\'" class="array-type">\n            <b>[</b>\n            <ng-container [ngTemplateOutlet]="dtView"\n                          [ngTemplateOutletContext]="{dt:getArrayElementType(dt)}"></ng-container>\n            <b>]</b>\n        </div>\n    </ng-container>\n</ng-template>'},549:function(e,t){e.exports=":host{text-align:right}:host div{display:inline-block}.simple-type{font-style:italic;color:lightseagreen}.array-type b:nth-of-type(1){margin-right:2px}.array-type b:nth-of-type(2){margin-left:3px}button{font-size:xx-small;outline:none !important}"},550:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=n(36);n(143),n(141),n(142),n(140);var a=n(256),s=n(169),c=n(257),p=n(258),l=n(107),u=n(144),d=n(553),f=n(3),h=n(211),g=function(){function e(){}return e=o([i.NgModule({imports:[r.HttpClientModule,u.MaterialModule,l.MiscModule,f.CommonModule,h.DetailsModule],declarations:[p.DatasetLineageOverviewComponent,d.LineageOverviewGraphComponent],providers:[s.DatasetService,a.PersistentDatasetResolver,c.DatasetLineageOverviewResolver]})],e)}();t.DatasetModule=g},551:function(e,t){e.exports='\x3c!--\n  ~ Copyright 2017 ABSA Group Limited\n  ~\n  ~ Licensed under the Apache License, Version 2.0 (the "License");\n  ~ you may not use this file except in compliance with the License.\n  ~ You may obtain a copy of the License at\n  ~\n  ~     http://www.apache.org/licenses/LICENSE-2.0\n  ~\n  ~ Unless required by applicable law or agreed to in writing, software\n  ~ distributed under the License is distributed on an "AS IS" BASIS,\n  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n  ~ See the License for the specific language governing permissions and\n  ~ limitations under the License.\n  --\x3e\n\n<div>\n    <mat-grid-list cols="3">\n        <mat-grid-tile colspan="2">\n            <lineage-overview-graph #graph\n                                    [lineage$]="lineageStore.lineage$"\n                                    [selectedNode$]="selectedNode$"\n                                    (nodeSelected)="selectNode($event.id, $event.type)"\n                                    (nodeActioned)="gotoPartialLineage($event.id)">\n            </lineage-overview-graph>\n            <div class="graph-footer">\n                <button mat-button (click)="graph.collapseNodes()" title="Collapse groups of nodes">\n                    <mat-icon>fullscreen_exit</mat-icon>\n                </button>\n                <button mat-button (click)="graph.fit()" title="Fit to screen">\n                    <mat-icon>filter_none</mat-icon>\n                </button>\n            </div>\n        </mat-grid-tile>\n        <mat-grid-tile>\n            <div class="details-container">\n\n                \x3c!-- Data Source Info --\x3e\n\n                <div *ngIf="selectedDataSourceDescription">\n                    <div style="height: 280px">\n                        <details-panel-header\n                                [caption]="selectedDataSourceDescription.source.path"\n                                faIcon="fa-file"\n                                iconColor="steelblue">\n                        </details-panel-header>\n                        <hr>\n                        <h5>Type: <b>{{selectedDataSourceDescription.source.type}}</b></h5>\n                        <h5>Timestamp: <b>{{selectedDataSourceDescription.timestamp | date:\'long\'}}</b></h5>\n                        <hr>\n                        <div style="text-align: center">\n                            <button mat-raised-button (click)="gotoPartialLineage(selectedDataSourceDescription.source.datasetsIds[0])">\n                                Show detailed lineage graph\n                            </button>\n                        </div>\n                        <hr>\n                        <h3>Schema:</h3>\n                    </div>\n                    <div style="height: calc(100% - 280px); overflow-y: auto;">\n                        <attribute-list [attrs]="selectedDataSourceDescription.schema.attrs">\n                        </attribute-list>\n                    </div>\n                </div>\n\n                \x3c!-- Composite Operation Info --\x3e\n\n                <div *ngIf="selectedOperation">\n                    <details-panel-header\n                            [caption]="selectedOperation.appName"\n                            faIcon="fa-cogs"\n                            iconColor="steelblue">\n                    </details-panel-header>\n                    <hr>\n                    <h5>Application ID: <b>{{selectedOperation.appId}}</b></h5>\n                    <h5>Timestamp: <b>{{selectedOperation.timestamp | date:\'long\'}}</b></h5>\n                    <hr>\n                    <div style="text-align: center">\n                        <button mat-raised-button (click)="gotoPartialLineage(selectedOperation.mainProps.id)">\n                            Show detailed lineage graph\n                        </button>\n                    </div>\n                    <hr>\n                    <h3>Sources:</h3>\n                    <ul>\n                        <li *ngFor="let src of selectedOperation.sources">\n                            <b>{{src.type}}</b> : {{src.path}}\n                            <div *ngIf="src.datasetsIds?.length">\n                                <a *ngFor="let dsId of src.datasetsIds"\n                                   href="javascript:void(0)"\n                                   (click)="selectNode(dsId, \'datasource\')">\n                                    {{dsId}}<br/>\n                                </a>\n                            </div>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n        </mat-grid-tile>\n    </mat-grid-list>\n</div>\n\n<version></version>'},552:function(e,t){e.exports=":host{height:100%;width:100%}:host>div{height:100%}:host>div mat-grid-list{height:100%}:host>div mat-grid-tile{height:100%}:host>div lineage-overview-graph{display:block;height:100%;width:100%}:host>div .graph-footer{position:absolute;right:25px;bottom:20px;background:white;opacity:.8;border-radius:100px;box-shadow:0 0 100px 50px white}:host>div .graph-footer .mat-button{min-width:0}:host>div .details-container{height:100%;width:100%;background:whitesmoke}:host>div .details-container>div{height:100%;width:100%}"},553:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);n(207);var a=n(145),s=n(40),c=n(11),p=n(41),l=n(554),u=n(555),d=n(209),f=n(146),h=n(109),g=n(13),y=n(148),m=function(){function e(e,t,n){this.container=e,this.visNetworkService=t,this.zone=n,this.nodeSelected=new r.EventEmitter,this.nodeActioned=new r.EventEmitter,this.subscriptions=[]}var t;return t=e,e.prototype.ngOnInit=function(){var e=this,t=c.concat(this.lineage$.pipe(g.first()),this.lineage$).pipe(g.pairwise());this.subscriptions.unshift(c.combineLatest([t,this.selectedNode$]).pipe(g.filter(function(e){return function(e,t){return s.some(e.datasets,{id:t})}(e[0][1],e[1].id)}),g.distinctUntilChanged(function(e,t){var n=e[0][1],o=e[1],i=t[0][1],r=t[1];return n.id==i.id&&s.isEqual(o,r)})).subscribe(function(t){var n=t[0];return function(t,n,o){e.visNetworkService.network&&n===t||e.rebuildGraph(n),e.selectedNode=o,e.refreshSelectedNode(o)}(n[0],n[1],t[1])}))},e.prototype.ngOnDestroy=function(){this.subscriptions.forEach(function(e){return e.unsubscribe()})},e.prototype.fit=function(){var e=this;this.zone.runOutsideAngular(function(){e.visNetworkService.network.fit()})},e.prototype.collapseNodes=function(){var e=this;this.zone.runOutsideAngular(function(){e.clusterManager.collapseAllClusters()})},e.eventToClickableNode=function(e){var n=e.nodes.length&&e.nodes[0];return t.isClickableNodeId(n)&&{id:n.substring(u.ID_PREFIX_LENGTH),type:u.GraphNodeTypesByIdPrefixes[n.substring(0,u.ID_PREFIX_LENGTH)]}},e.isClickableNodeId=function(e){var t=[u.ID_PREFIXES.datasource+u.ID_PREFIXES.extra,u.ID_PREFIXES.datasource_cluster];return e&&!s.some(t,function(t){return e.startsWith(t)})},e.prototype.rebuildGraph=function(e){var n=this;this.zone.runOutsideAngular(function(){var o=t.buildVisModel(e),i=n.visNetworkService.createNetwork(function(){return new a.Network(n.container.nativeElement,o,l.visOptions)});n.clusterManager=new d.ClusterManager(o,i,function(e){return s(e).filter(function(e){return e.nodeType===u.VisNodeType.Dataset}).filter(function(e){return e.dataSource.datasetsIds.length>1}).groupBy(function(e){return e.dataSource.datasetsIds[0]}).values().map(function(e,t){return new f.VisClusterNode(""+u.ID_PREFIXES.datasource_cluster+t,e[0].label+" ("+e.length+")",e)}).value()}),n.clusterManager.rebuildClusters(),n.clusterManager.collapseAllClusters(),i.on("click",function(e){var o=t.eventToClickableNode(e);if(o)n.zone.run(function(){return n.nodeSelected.emit(o)});else{n.refreshSelectedNode(n.selectedNode);var r=e.nodes[0];i.isCluster(r)&&i.openCluster(r)}}),i.on("doubleClick",function(e){if(1==e.nodes.length){var o=t.eventToClickableNode(e);o&&n.zone.run(function(){return n.nodeActioned.emit(o)})}});var r=n.container.nativeElement.getElementsByTagName("canvas")[0];i.on("blurNode",function(){return r.style.cursor="default"}),i.on("hoverNode",function(e){t.isClickableNodeId(e.node)&&(r.style.cursor="pointer")}),i.on("beforeDrawing",function(e){i.getSelectedNodes().forEach(function(t){var n=i.getPositions(t);e.fillStyle="#f7a263",e.circle(n[t].x,n[t].y,65),e.fill()})})})},e.prototype.refreshSelectedNode=function(e){var t=this;this.zone.runOutsideAngular(function(){var n=t.visNetworkService.network;n.unselectAll(),n.selectNodes([u.ID_PREFIXES[e.type]+e.id])})},e.buildVisModel=function(e){var n=function(e){return s.flatMap(e.sources,function(t,n){return s.isEmpty(t.datasetsIds)?s.assign({},t,{datasetsIds:[u.ID_PREFIXES.extra+n+"_"+e.mainProps.id]}):t})},o=function(e){return s(e).flatMap(function(e){return e.datasetsIds.map(function(t){return[t,e]})}).groupBy(s.head).values().map(function(e){return s.sortBy(e,function(e){return-e[1].datasetsIds.length})[0]}).value()},i=s.flatMap(e.operations,function(e){return n(e).concat(e.destination)}),r=o(i).map(function(e){var n=e[0],o=e[1],i=o.path.substring(o.path.replace(/\/$/,"").lastIndexOf("/")+1),r=t.wrapText(o.type+"\n"+i);return new u.VisDatasetNode(o,u.ID_PREFIXES.datasource+n,o.type+":"+o.path,r,new h.Icon("fa-file","","FontAwesome").toVisNodeIcon(n.startsWith(u.ID_PREFIXES.extra)?"#c0cdd6":"#337ab7"))}),c=e.operations.map(function(e){return new u.VisProcessNode(e,u.ID_PREFIXES.operation+e.mainProps.id,t.wrapText(e.appName),h.getIconForNodeType(p.typeOfOperation(e)).toVisNodeIcon("#337ab7"))}).concat(r),l=s.flatMap(e.operations,function(e){var t=u.ID_PREFIXES.operation+e.mainProps.id,i=o(n(e)).map(function(e){var n=e[0],o=u.ID_PREFIXES.datasource+n;return{id:o+"_"+t,from:o,to:t}}),r=u.ID_PREFIXES.datasource+e.mainProps.output,a={id:t+"_"+r,from:t,to:r};return i.concat(a)});return new f.VisModel(new a.DataSet(c),new a.DataSet(l))},e.wrapText=function(e){var t=this;return e.split("\n").map(function(e){return e.length<13?e:e.substring(0,11)+"\n"+t.wrapText(e.substring(11))}).join("\n")},o([r.Input(),i("design:type",c.Observable)],e.prototype,"lineage$",void 0),o([r.Input(),i("design:type",c.Observable)],e.prototype,"selectedNode$",void 0),o([r.Output(),i("design:type",Object)],e.prototype,"nodeSelected",void 0),o([r.Output(),i("design:type",Object)],e.prototype,"nodeActioned",void 0),e=t=o([r.Component({selector:"lineage-overview-graph",template:"",providers:[y.VisNetworkService]}),i("design:paramtypes",[r.ElementRef,y.VisNetworkService,r.NgZone])],e)}();t.LineageOverviewGraphComponent=m},554:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.visOptions={autoResize:!0,interaction:{hover:!0,selectConnectedEdges:!1,hoverConnectedEdges:!1},layout:{hierarchical:{enabled:!0,sortMethod:"directed",direction:"UD",parentCentralization:!0,nodeSpacing:200,levelSeparation:200}},physics:{enabled:!0,hierarchicalRepulsion:{nodeDistance:270,springLength:170,springConstant:10,damping:1}},edges:{color:{color:"#E0E0E0",hover:"#E0E0E0",highlight:"E0E0E0"},shadow:!1,width:10,arrows:"to",font:{color:"#343434",background:"#ffffff",strokeWidth:0}},nodes:{shape:"icon",shadow:!1,labelHighlightBold:!1,font:{color:"#343434",size:20}}}},555:function(e,t,n){"use strict";var o,i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.Process=0]="Process",e[e.Dataset=1]="Dataset"}(o=t.VisNodeType||(t.VisNodeType={}));var r=function(){return function(e,t,n,o){this.nodeType=e,this.id=t,this.label=n,this.icon=o}}();t.VisNode=r;var a=function(e){function t(t,n,i,r){var a=e.call(this,o.Process,n,i,r)||this;return a.operation=t,a}return i(t,e),t}(r);t.VisProcessNode=a;var s=function(e){function t(t,n,i,r,a){var s=e.call(this,o.Dataset,n,r,a)||this;return s.dataSource=t,s}return i(t,e),t}(r);t.VisDatasetNode=s,t.ID_PREFIX_LENGTH=3,t.ID_PREFIXES={operation:"op_",datasource:"ds_",extra:"ex_",datasource_cluster:"cl_"},t.GraphNodeTypesByIdPrefixes={op_:"operation",ds_:"datasource",cl_:"datasource_cluster"}},556:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=n(36),a=n(259),s=n(559),c=n(96),p=function(){function e(){}return e=o([i.NgModule({imports:[c.MatButtonModule,c.MatDialogModule],providers:[{provide:r.HTTP_INTERCEPTORS,useClass:s.XHRTimeoutInterceptor,multi:!0}],declarations:[a.RetryPopupDialogComponent],entryComponents:[a.RetryPopupDialogComponent]})],e)}();t.XHRTimeoutRectifierModule=p},557:function(e,t){e.exports='\x3c!--\n  ~ Copyright 2017 ABSA Group Limited\n  ~\n  ~ Licensed under the Apache License, Version 2.0 (the "License");\n  ~ you may not use this file except in compliance with the License.\n  ~ You may obtain a copy of the License at\n  ~\n  ~     http://www.apache.org/licenses/LICENSE-2.0\n  ~\n  ~ Unless required by applicable law or agreed to in writing, software\n  ~ distributed under the License is distributed on an "AS IS" BASIS,\n  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n  ~ See the License for the specific language governing permissions and\n  ~ limitations under the License.\n  --\x3e\n\n<h2 mat-dialog-title><i class="fa fa-clock-o fa-2x"></i> The request has timed out</h2>\n<mat-dialog-content>\n    <p>\n        The server might be under high load or experiencing network issues.<br>\n        Your request took much longer time than usual and has been rejected by the server.<br>\n        You may retry, but under the current circumstances the server may require significant\n        amount of time to complete your request.\n    </p>\n    <strong>Do you want to retry and wait longer?</strong>\n</mat-dialog-content>\n<mat-dialog-actions>\n    <button mat-raised-button [mat-dialog-close]="true" tabindex="-1">Yes, I\'m willing to wait</button>\n    <button mat-raised-button mat-dialog-close color="primary">No, I\'ll try later</button>\n</mat-dialog-actions>'},558:function(e,t){e.exports=".mat-dialog-title{color:crimson}.mat-dialog-title i{vertical-align:sub;margin-right:12px}"},559:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=n(11),s=n(13),c=n(96),p=n(259),l=function(){function e(e){this.dialog=e}return e.prototype.intercept=function(e,t){var n=this;return t.handle(e).pipe(s.catchError(function(o){if(598==o.status){var i=new c.MatDialogConfig;return i.disableClose=!0,n.dialog.open(p.RetryPopupDialogComponent,i).afterClosed().pipe(s.flatMap(function(n){return n?t.handle(e.clone({setHeaders:{"X-SPLINE-TIMEOUT":"-1"}})):a.throwError(o)}))}return a.throwError(o)}))},e=o([r.Injectable(),i("design:paramtypes",[c.MatDialog])],e)}();t.XHRTimeoutInterceptor=l},560:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=n(148),a=function(){function e(){}return e=o([i.NgModule({providers:[r.VisNetworkService]})],e)}();t.VisModule=a},64:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=n(11),a=n(40),s=n(41),c=function(){function e(){this._lineage$=new r.ReplaySubject(1)}return Object.defineProperty(e.prototype,"lineage$",{get:function(){return this._lineage$},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lineage",{set:function(e){this._lineageAccessors=new p(e),this._lineage$.next(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lineageAccessors",{get:function(){return this._lineageAccessors},enumerable:!0,configurable:!0}),e=o([i.Injectable()],e)}();t.LineageStore=c;var p=function(){function e(e){var t=this;this.lineage=e,this.operationById=a.mapValues(a.groupBy(e.operations,"mainProps.id"),a.first),this.datasetById=a.mapValues(a.groupBy(e.datasets,"id"),a.first),this.attributeById=a.mapValues(a.groupBy(e.attributes,"id"),a.first),this.dataTypesById=a.mapValues(a.groupBy(e.dataTypes,"id"),a.first),this.attributesByDatasetId=a.mapValues(this.datasetById,function(e){return e.schema.attrs.map(function(e){return t.attributeById[e]})}),this.operationIdsByAttributeId=a(e.operations).flatMap(function(e){var n="Read"!=s.typeOfOperation(e)?e.mainProps.inputs:[],o=e.mainProps.output,i=n.concat(o);return a.uniq(a.flatMap(i,function(e){return t.datasetById[e].schema.attrs})).map(function(t){return[t,e.mainProps.id]})}).groupBy(a.first).mapValues(a.partial(a.map,a,a.last)).value()}return e.prototype.getOperation=function(e){return this.operationById[e]},e.prototype.getDataset=function(e){return this.datasetById[e]},e.prototype.getDatasetAttributes=function(e){return this.attributesByDatasetId[e]},e.prototype.getAttribute=function(e){return this.attributeById[e]},e.prototype.getDataType=function(e){return this.dataTypesById[e]},e.prototype.getOperationIdsByAnyAttributeId=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return a.uniq(a.flatMap(t,function(t){return e.operationIdsByAttributeId[t]}))},e}();t.LineageAccessors=p}});
//# sourceMappingURL=bundle.main.js.map